<!-- Views/UserManagementWindow.axaml -->
<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="900" d:DesignHeight="650"
        x:Class="Maket.UserManagementWindow"
        Title="Управление пользователями — Система управления ИТ-проектами"
        MinWidth="800"
        MinHeight="600">

    <Grid Background="#F0F8FF" Margin="15">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <!-- Заголовок -->
        <Border Grid.Row="0" Background="#2F4F4F" CornerRadius="5" Margin="0,0,0,15">
            <TextBlock Text="Управление пользователями" FontSize="26" Margin="10" HorizontalAlignment="Center"
                       Foreground="White" FontWeight="Bold" />
        </Border>

        <!-- Основная сетка: список слева, форма справа -->
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="2*" MinWidth="300" />
                <ColumnDefinition Width="5" />
                <ColumnDefinition Width="*" MinWidth="250" />
            </Grid.ColumnDefinitions>

            <!-- Список пользователей -->
            <Border Grid.Column="0" BorderBrush="#556B2F" BorderThickness="2" Background="#F5FFFA" CornerRadius="5">
                <!-- Убрали всё лишнее из ListBox -->
                <ListBox x:Name="EmployeesListBox"
                         Margin="10"
                         Background="White"
                         BorderThickness="0" />
            </Border>

            <!-- Разделитель -->
            <Border Grid.Column="1" Background="#556B2F" CornerRadius="2" />

            <!-- Форма управления -->
            <Border Grid.Column="2" BorderBrush="#8B0000" BorderThickness="2" Background="#FFF0F5" CornerRadius="5"
                    Margin="15,0,0,0">
                <DockPanel>
                    <TextBlock DockPanel.Dock="Top" Text="Управление пользователем" Margin="10,5,0,10"
                               FontWeight="Bold" Foreground="#8B0000" />
                    <StackPanel DockPanel.Dock="Bottom" Spacing="10" Margin="15">
                        <!-- Поля для добавления/редактирования -->
                        <TextBlock Text="Логин" Foreground="#2F4F4F" />
                        <TextBox x:Name="LoginTextBox" Watermark="Введите логин" Background="White"
                                 BorderBrush="#8B0000" />

                        <TextBlock Text="Пароль (только для добавления)" Foreground="#2F4F4F" />
                        <TextBox x:Name="PasswordBox" Watermark="Введите пароль" Background="White"
                                 BorderBrush="#8B0000" />

                        <TextBlock Text="Роль" Foreground="#2F4F4F" />
                        <ComboBox x:Name="RoleComboBox" Background="White" BorderBrush="#8B0000">
                            <ComboBoxItem Content="Пользователь" />
                            <ComboBoxItem Content="Администратор" />
                        </ComboBox>

                        <CheckBox x:Name="IsBlockedCheckBox" Content="Заблокирован" Foreground="#8B0000" />

                        <!-- Кнопки -->
                        <Button x:Name="AddUserButton" 
                                Click="RegUser"
                                Content="Добавить"
                                Margin="0,10,0,5"
                                Background="#32CD32"
                                Foreground="White" BorderThickness="0" />
                        <Button x:Name="EditUserButton" Content="Сохранить" Margin="0,5" Background="#4169E1"
                                Foreground="White" BorderThickness="0" />
                        <Button x:Name="UnblockUserButton" Content="Разблокировать" Margin="0,5" Background="#FF6347"
                                Foreground="White" BorderThickness="0" />
                        <Button x:Name="RefreshButton" Content="Обновить" Click="UpdateButton" Margin="0,10,0,0" Background="#696969"
                                Foreground="White" BorderThickness="0" />
                    </StackPanel>
                </DockPanel>
            </Border>
        </Grid>

        <Button x:Name="CloseButton" Grid.Row="2" Click="CloseWindow" Content="Закрыть" HorizontalAlignment="Right" Margin="0,20,0,0"
                MinWidth="100" Background="#808080" Foreground="White" BorderThickness="0" />

    </Grid>
</Window>